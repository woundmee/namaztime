![Go](https://img.shields.io/badge/go-%2300ADD8.svg?style=for-the-badge&logo=go&logoColor=white)
![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white)

# üåô namaztime
**Namaztime** ‚Äî —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞–º–∞–∑–æ–≤. –ú–æ–¥—É–ª—å `api/` —á–∏—Ç–∞–µ—Ç csv-—Ñ–∞–π–ª—ã —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `schedules/`, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞, –∞ –º–æ–¥—É–ª—å `bot/` –∑–∞–ø—É—Å–∫–∞–µ—Ç telegram-–±–æ—Ç–∞. –ë–æ—Ç —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –∫–∞–∂–¥–æ–≥–æ –Ω–∞–º–∞–∑–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ä—É—á–Ω—É—é –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –µ–º—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```sh
git clone https://github.com/woundmee/namaztime.git
```

2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `main.go` –≤ –æ–±–æ–∏—Ö –º–æ–¥—É–ª—è—Ö. –£–¥–∞–ª–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ—á–∫–∏, —á—Ç–æ–±—ã –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫ `.env` —Ñ–∞–π–ª—É.
```go
err := godotenv.Load()
if err != nil {
  panic("–Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è")
}

```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` (–≤ –æ–±–æ–∏—Ö –º–æ–¥—É–ª—è—Ö) –∏ –∑–∞–¥–∞–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –±—É–¥—É—â–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. –ü—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å `.env`, –ø—Ä–∏–≤–µ–¥–µ–Ω –≤ `.env.template`

4. –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã
```sh
touch ./api/api.log
touch ./api/schedules/  # —Å—é–¥–∞ —Å–ª–æ–∂–∏—Ç—å —Ñ–∞–π–ª—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π: 1-12.csv
touch ./bot/bot.log
touch ./bot/users.db
```

5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx –Ω–∞ —Ö–æ—Å—Ç–µ. –ó–∞—Ç–µ–º —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–∂–∏—Ç –ø–æ –ø—É—Ç–∏ `./configs/init/nginx.conf`, –≤ `/etc/nginx/sites-available/` —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
```sh
sudo apt install nginx
cat ./configs/init/nginx.conf > /etc/nginx/sites-available/default  # –∏–ª–∏ your_domain_name
sudo systemctl restart nginx
```

6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ docker-compose, —Å–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```sh
# –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è compose.yml
sudo apt install docker-compose
sudo docker-compose up --build -d
```


## ‚öô –ú–æ–¥—É–ª—å API

### –†–∞—Å–ø–∏—Å–∞–Ω–∏—è
–í `api/` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–∞—Ç–∞–ª–æ–≥  `./schedules` (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç—É - —Å–æ–∑–¥–∞–π—Ç–µ). –û–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å csv-—Ñ–∞–π–ª—ã —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∑–∞ –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü. –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–±–ª–æ–Ω—É: `1.csv`, –≥–¥–µ 1 - –Ω–æ–º–µ—Ä –º–µ—Å—è—Ü–∞ (–Ø–Ω–≤–∞—Ä—å). –ü—Ä–∏–º–µ—Ä:
- `1.csv` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞ —è–Ω–≤–∞—Ä—å
- `2.csv` - –∑–∞ —Ñ–µ–≤—Ä–∞–ª—å
- ...
- `12.csv` - –∑–∞ –¥–µ–∫–∞–±—Ä—å

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ csv-—Ñ–∞–π–ª–∞ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–±–ª–æ–Ω—É:
```csv
–î–µ–Ω—å,–§–∞–¥–∂—Ä,–í–æ—Å—Ö–æ–¥,–ó—É—Ö—Ä,–ê—Å—Ä,–ú–∞–≥—Ä–∏–±,–ò—à–∞
1,3:46,7:14,12:57,15:21,18:48,20:18
2,3:52,7:18,12:56,15:18,18:44,20:14
3,3:57,7:21,12:55,15:14,18:40,20:10
...
```

### HTTP-–∑–∞–ø—Ä–æ—Å—ã
- –ó–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∑–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å: `GET /namaztime/today`
- –ó–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∑–∞ –≤–µ—Å—å –º–µ—Å—è—Ü: `GET /namaztime/month`

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ `GET /namaztime/today`:
```json
{
  "Day": "3",
  "Fajr": "3:57",
  "Sunrise": "7:22",
  "Zuhr": "12:56",
  "Asr": "15:15",
  "Magrib": "18:40",
  "Isha": "20:10"
}
```


## ‚öô –ú–æ–¥—É–ª—å BOT
–ë–æ—Ç –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram. –ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ –±–æ—Ç–∞ –≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç–µ—Å—å –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞, –∞ —Ç–∞–∫–∂–µ –≤–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ä—è–¥ –∫–æ–º–∞–Ω–¥, —Ç–∞–∫–∏–µ –∫–∞–∫:

- `/start` - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `/help` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É
- `/today` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
- `/unsubscribe` - –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–æ–ø. –∫–æ–º–∞–Ω–¥–∞ `/all`, –≤ –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω –º–æ–∂–µ—Ç –æ–ø–æ–≤–µ—Å—Ç–∏—Ç—å –≤—Å–µ—Ö, –∫—Ç–æ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –±–æ—Ç–∞. –ü—Ä–∏–º–µ—Ä: `/all –í–µ–¥—É—Ç—Å—è —Ç–µ—Ö. —Ä–∞–±–æ—Ç—ã` - —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç –≤—Å–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –±–æ—Ç–∞ (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–µ—Ö, –∫—Ç–æ –æ—Ç–ø–∏—Å–∞–ª—Å—è –æ—Ç –±–æ—Ç–∞, –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è).

–ï—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞ –≤ —Å–≤–æ—é –≥—Ä—É–ø–ø—É –∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Ç–æ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ –≥—Ä—É–ø–ø–µ –≤—ã–∑–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/start`. 


## ü§ù –ü–æ–º–æ—â—å –ø—Ä–æ–µ–∫—Ç—É

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ **issue** –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ **pull request**.